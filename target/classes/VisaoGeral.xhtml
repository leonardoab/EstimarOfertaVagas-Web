<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:opt="http://primefaces.prime.com.tr/optimus"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="Templete.xhtml">
	<ui:define name="corpo">

		<p:growl autoUpdate="true" />
		<h:form style="padding-left: 45px;padding-bottom: 23%;height: 1500px;" id="form" class="formularioCentro"  >
			<div class="titulo">
				<legend>Visão Geral</legend>
			</div>

			<div class="ui-grid-col-4" style="width: 50%; padding-right: 20px;">
				<p:fieldset legend="Período - Aluno" style="margin-bottom:0px">
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ">
							<div class="ui-grid-col-6 "
								style="width: 50%; margin-top: -25px;">
								<p:outputLabel value="Grades:" />
								<p:autoComplete id="gradesSelecionadas" multiple="true"
									forceSelection="true"
									value="#{visaoGeralController.listagrade}"
									completeMethod="#{visaoGeralController.gradeCodigos}"
									styleClass="gradeSelecionadas">
									<p:ajax event="itemSelect"
										listener="#{visaoGeralController.onItemSelectGrade()}"
										update="@form" />
									<p:ajax event="itemUnselect"
										listener="#{visaoGeralController.onItemSelectGrade()}"
										update="@form" />
								</p:autoComplete>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ">
							<div class="ui-grid-col-6 "
								style="width: 50%; padding-top: 10px;">
								<p:outputLabel value="Alunos:" />
								<p:autoComplete id="alunosSelecionadas" multiple="true"
									forceSelection="true"
									value="#{visaoGeralController.listaAlunosSelecionados}"
									completeMethod="#{visaoGeralController.nomeAluno}"
									styleClass="gradeSelecionadas">
									<p:ajax event="itemSelect"
										listener="#{visaoGeralController.onItemSelectGrade()}"
										update="@form" />
									<p:ajax event="itemUnselect"
										listener="#{visaoGeralController.onItemSelectGrade()}"
										update="@form" />
								</p:autoComplete>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ">
							<div class="ui-grid-col-6 "
								style="width: 50%; padding-top: 10px;">
								<p:outputLabel value="Ingresso:" />
								<p:autoComplete id="alunosAnoSelecionadas" multiple="true"
									forceSelection="true"
									value="#{visaoGeralController.listaAnosSelecionados}"
									completeMethod="#{visaoGeralController.alunoAno}"
									styleClass="gradeSelecionadas">
									<p:ajax event="itemSelect"
										listener="#{visaoGeralController.onItemSelectGrade()}"
										update="@form" />
									<p:ajax event="itemUnselect"
										listener="#{visaoGeralController.onItemSelectGrade()}"
										update="@form" />
								</p:autoComplete>
							</div>
						</div>
					</div>
				</p:fieldset>
			</div>
			<div class="ui-grid-col-4 " style="width: 45%;">
				<p:fieldset legend="Período - Disciplina" style="margin-bottom:20px">
					<div class="ui-grid-col-4" style="width: 33%;">
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton
									value="#{visaoGeralController.selectedOptionsPeriodo}"
									styleClass="discD1"
									disabled="#{visaoGeralController.lgPeriodoUm}"
									id="periodoInicioUm">
									<f:selectItem itemLabel="01" itemValue="01" />
									<f:selectItem itemLabel="02" itemValue="02" />
									<f:selectItem itemLabel="03" itemValue="03" />
									<f:selectItem itemLabel="04" itemValue="04" />
									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton
									value="#{visaoGeralController.selectedOptionsPeriodoDois}"
									styleClass="discD2"
									disabled="#{visaoGeralController.lgPeriodoCinco}"
									id="periodoInicioCinco">
									<f:selectItem itemLabel="05" itemValue="05" />
									<f:selectItem itemLabel="06" itemValue="06" />
									<f:selectItem itemLabel="07" itemValue="07" />
									<f:selectItem itemLabel="08" itemValue="08" />
									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton
									value="#{visaoGeralController.selectedOptionsPeriodoTres}"
									styleClass="discD3"
									disabled="#{visaoGeralController.lgPeriodoNove}"
									id="periodoInicioNove">
									<f:selectItem itemLabel="09" itemValue="09" />
									<f:selectItem itemLabel="10" itemValue="10" />
									<f:selectItem itemLabel="11" itemValue="11" />
									<f:selectItem itemLabel="12" itemValue="12" />
									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton
									value="#{visaoGeralController.selectedOptionsEletiva}"
									styleClass="disc2"
									disabled="#{visaoGeralController.lgEletivas}"
									id="botaoEletivas">
									<f:selectItem itemLabel="Eletivas" itemValue="Eletivas" />
									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row "></div>
						</div>
					</div>
					<div class="ui-grid-col-4" style="width: 33%;">
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton
									value="#{visaoGeralController.selectedOptionsSituacao}"
									styleClass="disc5">
									<f:selectItem itemLabel="Aprovado" itemValue="#0B2161" />
									<f:selectItem itemLabel="Repr. nota" itemValue="#FFA500" />
									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton
									value="#{visaoGeralController.selectedOptionsSituacaoDois}"
									styleClass="disc6">
									<f:selectItem itemLabel="Habilitado" itemValue="#04B431" />
									<f:selectItem itemLabel="Matriculado" itemValue="#7777FF" />
									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton
									value="#{visaoGeralController.selectedOptionsSituacaoTres}"
									styleClass="disc7">
									<f:selectItem itemLabel="Repr. freq" itemValue="#FF0000" />
									<f:selectItem itemLabel="Inabilitado" itemValue="#FFFFFF" />

									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row ">
								<p:selectManyButton id="Many"
									value="#{visaoGeralController.selectedOptionsSituacaoQuatro}"
									styleClass="disc9" style="    font-size: 12px;">
									<f:selectItem itemLabel="Quase habilit." itemValue="#00FFBF">
									</f:selectItem>
									<p:ajax listener="#{visaoGeralController.onItemSelect()}"
										update="@form"></p:ajax>
								</p:selectManyButton>
							</div>
						</div>
						<div class="ui-grid ui-grid-responsive">
							<div class="ui-grid-row "></div>
						</div>
					</div>
					<div class="ui-grid-col-4" style="width: 33%;">
						<p:outputLabel value="Disciplinas Avulsas:"></p:outputLabel>
						<p:autoComplete id="disciplinasSelecionadas" multiple="true"
							forceSelection="true"
							value="#{visaoGeralController.listaTodasDisciplinasSelecionadas}"
							completeMethod="#{visaoGeralController.nomeDisciplina}"
							styleClass="auto">
							<p:ajax event="itemSelect"
								listener="#{visaoGeralController.onItemSelect()}"
								update="@form" />
							<p:ajax event="itemUnselect"
								listener="#{visaoGeralController.onItemSelect()}"
								update="@form" />
						</p:autoComplete>
					</div>
					
				</p:fieldset>
			</div>
			<div class="gridTamanho espacoLinha">
				<div class="ui-grid-col-12 espacoLinha ">
					<div class="ui-grid ui-grid-responsive">
						<p:dataTable id="discplinas" var="gradehistorico"
							scrollable="true" scrollHeight="450" scrollRows="50"
							liveScroll="true" scrollWidth="100%"
							value="#{visaoGeralController.listaGradeHistorico}"
							filteredValue="#{visaoGeralController.listaGradeHistoricoSelecionadas}"
							rendered="#{visaoGeralController.ldGridHistorico}">
							emptyMessage="Nenhum registro encontrado!"
							>

							<p:column
								style="width:130px;font-size: 12px;   padding: 0px 0px; "
								filterBy="#{gradehistorico.matricula}"
								filterMatchMode="contains">

								<f:facet name="header">
									
										<div>Matricula</div>
									
								</f:facet>

								<h:outputLink id="fade" value="#">
									#{gradehistorico.matricula}
								</h:outputLink>
								<p:tooltip id="toolTipFade" for="fade"
									style="    font-size: 12px;"
									value="#{gradehistorico.opcionaisSituacaoDisciplina}" />

							</p:column>

							<p:column
								style="width:200px;font-size: 12px;   padding: 0px 0px; "
								filterBy="#{gradehistorico.nome}" filterMatchMode="contains">

								<f:facet name="header">
									
										<div>Nome</div>
									
								</f:facet>
								#{gradehistorico.nome}
								
								</p:column>

							<p:columns value="#{visaoGeralController.columns}" var="column"
								style=" padding: 0px 0px;    font-size: 12px;width: 25px; ">
								<f:facet name="header">
									<div class="rotate90" style="#{column.cor}">
										<div>
											<h:outputText value="#{column.header}" />
										</div>
									</div>
								</f:facet>
								<div
									style="height: 12px; width: 51px;background-color: #{column.retornaProperty(gradehistorico)};" />
							</p:columns>
						</p:dataTable>
					</div>
				</div>
			</div>
			<p:panel rendered="#{visaoGeralController.ldGridHistorico}">
			<div class="gridTamanho espacoLinha" >
				<div class="ui-grid-col-12 espacoLinha ">
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-col-2" style="font-size: 12px;">
							<p:outputLabel value="% reprovacao:"></p:outputLabel>
							<p:inputText value="#{visaoGeralController.percNrMatriculados}">
								<p:ajax event="change"
									listener="#{visaoGeralController.calculaPercentual()}"
									update="estimativas" />
							</p:inputText>
						</div>
						<div class="ui-grid-col-2" style="font-size: 12px;">
							<p:outputLabel value=" % podem cursar:"></p:outputLabel>
							<p:inputText value="#{visaoGeralController.percNrH}">
								<p:ajax event="change"
									listener="#{visaoGeralController.calculaPercentual()}"
									update="estimativas" />
							</p:inputText>
						</div>
						<div class="ui-grid-col-2" style="font-size: 12px;">
							<p:outputLabel value="% aprovar nos prerequisitos:"></p:outputLabel>
							<p:inputText value="#{visaoGeralController.percNrQH}">
								<p:ajax event="change"
									listener="#{visaoGeralController.calculaPercentual()}"
									update="estimativas" />
							</p:inputText>
						</div>
						<div class="ui-grid-col-2" style="font-size: 12px;">
							<p:outputLabel value="% reprovado frequencia:"></p:outputLabel>
							<p:inputText value="#{visaoGeralController.percNrRF}">
								<p:ajax event="change"
									listener="#{visaoGeralController.calculaPercentual()}"
									update="estimativas" />
							</p:inputText>
						</div>
						<div class="ui-grid-col-2" style="font-size: 12px;">
							<p:outputLabel value="% reprovados por nota:"></p:outputLabel>
							<p:inputText value="#{visaoGeralController.percNrRN}">
								<p:ajax event="change"
									listener="#{visaoGeralController.calculaPercentual()}"
									update="estimativas" />
							</p:inputText>
						</div>
					</div>
				</div>
			</div>
			</p:panel>
			<div class="gridTamanho espacoLinha">
				<div class="ui-grid-col-12 espacoLinha ">
					<div class="ui-grid ui-grid-responsive">
						<p:dataTable id="estimativas" var="estimativa" scrollable="true"
							scrollHeight="450" scrollWidth="100%"
							value="#{visaoGeralController.listaEspectativaDisciplina}"
							filteredValue="#{visaoGeralController.listaEspectativaDisciplinaSelecionada}"
							rendered="#{visaoGeralController.ldGridHistorico}">
							emptyMessage="Nenhum registro encontrado!">
							<f:facet name="header">
			           Estimativa para Pedido Disciplinas
			       </f:facet>
							<p:column headerText="Disciplinas"
								style="width: 20%;padding: 0px 10px;"
								filterBy="#{estimativa.nomeDisciplina}"
								filterMatchMode="contains">
								<h:outputText value="#{estimativa.nomeDisciplina}" />
							</p:column>
							<p:column headerText="Matriculados"
								style="width: 20%;padding: 0px 10px;text-align: center;">

								<h:outputText
									value="#{estimativa.nrMatriculados} / #{estimativa.percNrMatriculados}" />
							</p:column>
							<p:column headerText="Habilitados"
								style="width: 20%;padding: 0px 10px;text-align: center;">

								<h:outputText value="#{estimativa.nrH} / #{estimativa.percNrH}" />
							</p:column>
							<p:column headerText="Quase habilitados"
								style="width: 20%;padding: 0px 10px;text-align: center;">
								<h:outputText
									value="#{estimativa.nrQH} / #{estimativa.percNrQH}" />
							</p:column>
							<p:column headerText="Repr. frequencia"
								style="width: 20%;padding: 0px 10px;text-align: center;">
								<h:outputText
									value="#{estimativa.nrRF} / #{estimativa.percNrRF}" />
							</p:column>
							<p:column headerText="Repr. nota"
								style="width: 20%;padding: 0px 10px;text-align: center;">
								<h:outputText
									value="#{estimativa.nrRN} / #{estimativa.percNrRN}" />
							</p:column>
							<p:column headerText="Necessidade"
								style="width: 20%;padding: 0px 10px;text-align: center;">
								<h:outputText
									value="#{estimativa.nrTotal} / #{estimativa.percNrTotal}" />
							</p:column>
						</p:dataTable>
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
</html>